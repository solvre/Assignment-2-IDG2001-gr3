{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block header %}Latest Posts{% endblock %}

{% block content %}
    <div>
        <form method="GET" action="{{ url_for('posts.index') }}">
            <label for="category">Filter by category:</label>
            <select id="category" name="category">
                <option value="">All</option>
                <option value="cats" {% if selected_category == 'cats' %}selected{% endif %}>Cats</option>
                <option value="science" {% if selected_category == 'science' %}selected{% endif %}>Science</option>
                <!-- Add more categories as needed -->
            </select>
            <button type="submit">Filter</button>
        </form>
    </div>
    <div id="posts">
        {% for post in posts %}
            <div class="post">
                <h3>{{ post.category }}</h3>
                <p>{{ post.text }}</p>
                <p><small>Posted by User ID: {{ post.user_id }} on {{ post.date }}</small></p>
                <p>Likes: {{ post.likes }}</p>
            </div>
        {% endfor %}
    </div>
{% endblock %}
